# Modules

Examples of the creation and usage of various features of Ultimate Fields within the  __Ultimate Fields: Showcase Theme__ are combined in purpose-built modules.

Modules are activated from the "Theme Options" page, located in Appearance > Theme Options when the theme is active. In the table below you can find which modules are using a specific location or a specific field type.

Each module is contained in a separate directory within this folder and contains a special `readme.md` file, which describes the purpose of the module, what features are used and how they are used.

## Features

This table describes in which module to find certain features of Ultimate Fields. If you are interested in the features, used in an individual module, please check its directory.

| Feature                                                                      | Module                                                           | Hint                                                        |
|------------------------------------------------------------------------------|------------------------------------------------------------------|-------------------------------------------------------------|
| __Locations__                                                                |                                                                  |                                                             |
| [Options Page](https://www.ultimate-fields.com/docs/locations/options-page/) | Core                                                             | Used for theme options                                      |
| [Attachment](https://www.ultimate-fields.com/docs/locations/attachment/)     | [`photographers`](photographers)                                 | Handles the photographer field for images.                  |
| [Comment](https://www.ultimate-fields.com/docs/locations/comment/)           | [`comment-tags`](comment-tags)                                   | Renders the field when editing a comment.                   |
| [Customizer](https://www.ultimate-fields.com/docs/locations/customizer/)     | [`site-layout`](site-layout)                                     | Shows a new section in the Customizer.                      |
| [Menu Item](https://www.ultimate-fields.com/docs/locations/menu-item/`)      | [`menu`](menu)                                                   | Displays additional fields in menu items.                   |
| [Post Type](https://www.ultimate-fields.com/docs/locations/post-type/)       | [`events`](events), [`content-blocks`](content-blocks)           | Adds meta boxes to pages and events.                        |
| [Shortcode](https://www.ultimate-fields.com/docs/locations/shortcode/)       | [`shortcode`](shortcode)                                         | Allows the addition of quotes with extra styles.            |
| [Taxonomy](https://www.ultimate-fields.com/docs/locations/taxonomy/)         | [`enhanced-categories`](enhanced-categories)                     | Displays the fields when adding and creating categories.    |
| [User](https://www.ultimate-fields.com/docs/locations/user/)                 | [`photographers`](photographers)                                 | Displays the copyrights link field for every user.          |
| [Widget](https://www.ultimate-fields.com/docs/locations/widget/)             | [`accordion-widget`](accordion-widget)                           | Handles the widget.                                         |
| __Fields__                                                                   |                                                                  |                                                             |
| [Audio](https://www.ultimate-fields.com/docs/fields/audio/)                  | [`content-blocks`](content-blocks)                               | Audio files selection.                                      |
| [Checkbox](https://www.ultimate-fields.com/docs/fields/checkbox/)            | [`events`](events)                                               | Checks if the event is physical or not.                     |
| [Color](https://www.ultimate-fields.com/docs/fields/color/)                  | [`colors`](colors), [`enhanced-categories`](enhanced-categories) | Picks the color of the site accent or category.             |
| [Complex](https://www.ultimate-fields.com/docs/fields/complex/)              | [`content-blocks`](content-blocks)                               | Used for displaying buttons.                                |
| [Date](https://www.ultimate-fields.com/docs/fields/date/)                    | [`events`](events)                                               | Used to select the beginning and end of events.             |
| [Embed](https://www.ultimate-fields.com/docs/fields/embed/)                  | [`content-blocks`](content-blocks)                               | Main handler of the embed block.                            |
| [File](https://www.ultimate-fields.com/docs/fields/file/)                    | [`downloads`](downloads)                                         | Allows a downloadable file to be assigned to posts.         |
| [Font](https://www.ultimate-fields.com/docs/fields/font/)                    | [`fonts`](fonts)                                                 | Allows the selection of a body font.                        |
| [Gallery](https://www.ultimate-fields.com/docs/fields/gallery/)              | [`content-blocks`](content-blocks)                               | Handles the "Gallery" block.                                |
| [Icon](https://www.ultimate-fields.com/docs/fields/icon/)                    | [`content-blocks`](content-blocks), [`menu`](menu)               | Used in the Text content block and for menu icons.          |
| [Image](https://www.ultimate-fields.com/docs/fields/image/)                  | [`site-layout`](site-layout)                                     | Handles the page background in boxed mode.                  |
| [Image Select](https://www.ultimate-fields.com/docs/fields/image-select/)    | [`colors`](colors)                                               | Allows the use of a pre-defined color.                      |
| [Layout](https://www.ultimate-fields.com/docs/fields/layout/)                | [`content-blocks`](content-blocks)                               | Works as the base of the blocks field.                      |
| [Link](https://www.ultimate-fields.com/docs/fields/link/)                    | [`photographers`](photographers)                                 | Allows the entry of copyright links for users.              |
| [Map](https://www.ultimate-fields.com/docs/fields/map/)                      | [`events`](events)                                               | Selects the location of the event.                          |
| [Map](https://www.ultimate-fields.com/docs/fields/map/)                      | [`events`](events)                                               | Used to set the location of events.                         |
| [Message](https://www.ultimate-fields.com/docs/fields/message/)              | [`colors`](colors)                                               | Indicates the availability of the module in the customizer. |
| [Multiselect](https://www.ultimate-fields.com/docs/fields/multiselect/)      | [`comment-tags`](comment-tags)                                   | Allows the selection of related tags for the comment.       |
| [Number](https://www.ultimate-fields.com/docs/fields/number/)                | [`enhanced-categories`](enhanced-categories)                     | Controls the amount of posts per page on the listing.       |
| [Object](https://www.ultimate-fields.com/docs/fields/object/)                | [`content-blocks`](content-blocks)                               | Used for the teaser block.                                  |
| [Objects](https://www.ultimate-fields.com/docs/fields/objects/)              | [`related-posts`](related-posts)                                 | Used to select the related posts.                           |
| [Password](https://www.ultimate-fields.com/docs/fields/password/)            | -                                                                | None, examples for this field would be overly complicated.  |
| [Repeater](https://www.ultimate-fields.com/docs/fields/repeater/)            | [`team`](team)                                                   | Used to add departments and teams to the team page.         |
| [Section](https://www.ultimate-fields.com/docs/fields/section/)              | [`events`](events)                                               | Separates the date fields and the location.                 |
| [Select](https://www.ultimate-fields.com/docs/fields/select/)                | [`site-layout`](site-layout)                                     | Lets you select which site layout to use.                   |
| [Sidebar](https://www.ultimate-fields.com/docs/fields/sidebar/)              | [`menu`](menu)                                                   | Allows the dropdown sidebar selector to work.               |
| [Sidebar](https://www.ultimate-fields.com/docs/fields/sidebar/)              | [`menu`](menu)                                                   | Used to select a sidebar for mega-menus.                    |
| [Tab](https://www.ultimate-fields.com/docs/fields/tab/)                      | [`site-layout`](site-layout)                                     | Used to toggle between layout and background.               |
| [Text](https://www.ultimate-fields.com/docs/fields/text/)                    | [`quote`](quote), [`accordion-widget`](accordion-widget)         | Used for the author, title and etc.                         |
| [Text](https://www.ultimate-fields.com/docs/fields/text/)                    | [`team`](team)                                                   | Used for team member names                                  |
| [Textarea](https://www.ultimate-fields.com/docs/fields/textarea/)            | [`accordion-widget`](accordion-widget)                           | Allows the content of individual sections to be entered.    |
| [Video](https://www.ultimate-fields.com/docs/fields/video/)                  | [`content-blocks`](content-blocks)                               | Used in the "Video" block.                                  |
| [WYSIWYG](https://www.ultimate-fields.com/docs/fields/wysiwyg/)              | [`content-blocks`](content-blocks), [`team`](team)               | Used for the individual team-member bios.                   |

## Module structure

Although each module should be isolated in its own directory, there are no specifications for the structure inside.

The following files will be auto-loaded by the theme when the module is activated:

- `module.php` is the root file of the module and will automatically be included during the `after_setup_theme` action.
- `module.css` will be automatically enqueued in the front-end.
- `module.js` will also automatically be enqueued in the front-end.

A `readme.md` markdown file is not required, but one is included with all built-in modules. It describes the purpose of the module and the techniques used inside.

## Creating a module

__Ultimate Fields: Showcase Theme__ is not meant to be redistributed and built upon for normal websites, however if you are developing an extension for Ultimate Fields, it would be very suitable to create an additional module.

Let's assume that you are creating a module, called `my-module`. It would require the following structure:

- `my-module`: The directory, which would work as a plugin.
  - `my-module.php`: A file, which defines the module and the plugin
  - `module.php`: The file, which will be included when the module is active.
  - `module.css`: An optional, pluggable CSS file.
  - `module.js`: An optional, pluggable JavaScript file.

Here is how the content of `my-module.php` should look like:

```php
<?php
/**
 * Plugin name: Ultimate Fields Showcase: <module-name>
 *
 * ... additional plugin headers as defined at
 * @see https://developer.wordpress.org/plugins/the-basics/header-requirements/
 */

 /**
  * Loads the module in the module loader.
  *
  * @param Module_Loader $loader A loader that includes modules.
  */
 add_action( 'showcase.load_modules', 'showcase_add_my_module' );
 function showcase_add_my_module( $loader ) {
 	$loader->add_module( 'my-module', array(
		/**
		 * The title of the module.
		 *
		 * @var string
		 */
 		'title' => __( 'My Module' ),

		/**
		 * An indicator whether the module requires Ultimate Fields Pro.
		 *
		 * If the module does not require any additional extensions, you can provide a boolean variable.
		 * If the module requires an extension though, you can provide a callback here,
		 * which would determine if the module should be active or not.
		 *
		 * @var bool|callable
		 */
 		'pro'   => false,

		/**
		 * The path of the `module.php` file. In this example the file is in
		 * the root of the plugin, therefore we are using the current directory.
		 *
		 * @var string
		 */
 		'path'  => __DIR__,

		/**
		 * A URL for scripts and styles.
		 *
		 * @var string
		 */
 		'url'   => plugins_url( '', __FILE__ ),

		/**
		 * (Optional) A URL, where users should be redirected
		 * before interacting with the module.
		 *
		 * @var string
		 */
 		'redirect' => admin_url( 'post.php?post=1&action=edit' )
 	));
}
```
